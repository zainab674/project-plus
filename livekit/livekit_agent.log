2025-10-02 01:07:38,527 - transcription-agent - INFO - Environment variables validated successfully
2025-10-02 01:07:38,542 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 01:07:38,546 - livekit.agents - DEV - Watching C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit
2025-10-02 01:07:41,670 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 01:07:41,682 - livekit.agents - INFO - starting worker
2025-10-02 01:07:42,774 - livekit.agents - INFO - registered worker
2025-10-02 01:40:34,723 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 725, in _send_task
    await ws.send_bytes(msg.SerializeToString())
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 252, in send_bytes
    await self._writer.send_frame(data, WSMsgType.BINARY, compress=compress)
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-02 01:40:36,286 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 01:40:40,309 - livekit.agents - INFO - registered worker
2025-10-02 01:40:47,758 - livekit.agents - INFO - received job request
2025-10-02 01:40:47,978 - livekit.agents - INFO - initializing job runner
2025-10-02 01:40:47,991 - livekit.agents - INFO - job runner initialized
2025-10-02 01:40:47,992 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 01:40:48,018 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 01:40:48,024 - livekit.agents - ERROR - unhandled exception while running the job task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\opentelemetry\util\_decorator.py", line 71, in async_wrapper
    return await func(*args, **kwargs)  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\job_proc_lazy_main.py", line 240, in _traceable_entrypoint
    await self._job_entrypoint_fnc(job_ctx)
  File "C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit\main.py", line 145, in main
    signal.signal(signal.SIGINT, signal_handler)
  File "C:\Python312\Lib\signal.py", line 58, in signal
    handler = _signal.signal(_enum_to_int(signalnum), _enum_to_int(handler))
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: signal only works in main thread of the main interpreter
2025-10-02 01:46:35,591 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 01:46:35,639 - livekit.agents - INFO - starting worker
2025-10-02 01:46:35,641 - livekit.agents - ERROR - Error in _read_ipc_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 35, in recv_bytes
    len_bytes = await self._reader.readexactly(4)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\streams.py", line 750, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\cli\watcher.py", line 120, in _read_ipc_task
    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\channel.py", line 47, in arecv_message
    return _read_message(await dplx.recv_bytes(), messages)
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 43, in recv_bytes
    raise DuplexClosed() from e
livekit.agents.utils.aio.duplex_unix.DuplexClosed
2025-10-02 01:46:36,552 - livekit.agents - INFO - registered worker
2025-10-02 02:00:01,953 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:00:01,962 - livekit.agents - INFO - starting worker
2025-10-02 02:00:05,195 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:00:05,202 - livekit.agents - INFO - starting worker
2025-10-02 02:00:06,075 - livekit.agents - INFO - registered worker
2025-10-02 02:00:23,912 - transcription-agent - INFO - Environment variables validated successfully
2025-10-02 02:01:55,001 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:01:55,026 - livekit.agents - INFO - starting worker
2025-10-02 02:01:55,959 - livekit.agents - INFO - registered worker
2025-10-02 02:04:24,629 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:04:24,639 - livekit.agents - INFO - starting worker
2025-10-02 02:04:26,532 - livekit.agents - INFO - registered worker
2025-10-02 02:04:40,354 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:04:40,361 - livekit.agents - INFO - starting worker
2025-10-02 02:04:41,422 - livekit.agents - INFO - registered worker
2025-10-02 02:05:52,112 - livekit.agents - INFO - shutting down worker
2025-10-02 02:05:52,114 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-10-02 02:05:56,296 - transcription-agent - INFO - Environment variables validated successfully
2025-10-02 02:05:56,307 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:05:56,310 - livekit.agents - DEV - Watching C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit
2025-10-02 02:05:58,368 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:05:58,377 - livekit.agents - INFO - starting worker
2025-10-02 02:05:59,310 - livekit.agents - INFO - registered worker
2025-10-02 02:08:12,810 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:08:12,825 - livekit.agents - INFO - starting worker
2025-10-02 02:08:12,827 - livekit.agents - ERROR - Error in _read_ipc_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 35, in recv_bytes
    len_bytes = await self._reader.readexactly(4)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\streams.py", line 750, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\cli\watcher.py", line 120, in _read_ipc_task
    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\channel.py", line 47, in arecv_message
    return _read_message(await dplx.recv_bytes(), messages)
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 43, in recv_bytes
    raise DuplexClosed() from e
livekit.agents.utils.aio.duplex_unix.DuplexClosed
2025-10-02 02:08:13,736 - livekit.agents - INFO - registered worker
2025-10-02 02:08:25,748 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:08:25,761 - livekit.agents - INFO - starting worker
2025-10-02 02:08:26,684 - livekit.agents - INFO - registered worker
2025-10-02 02:10:30,157 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:10:30,169 - livekit.agents - INFO - starting worker
2025-10-02 02:10:31,305 - livekit.agents - INFO - registered worker
2025-10-02 02:10:37,985 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:10:37,994 - livekit.agents - INFO - starting worker
2025-10-02 02:10:38,846 - livekit.agents - INFO - registered worker
2025-10-02 02:10:50,273 - asyncio - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Python312\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Python312\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-10-02 02:10:50,279 - livekit.agents - INFO - shutting down worker
2025-10-02 02:10:57,650 - transcription-agent - INFO - Environment variables validated successfully
2025-10-02 02:10:57,656 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:10:57,659 - livekit.agents - DEV - Watching C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit
2025-10-02 02:10:59,375 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:10:59,382 - livekit.agents - INFO - starting worker
2025-10-02 02:11:00,307 - livekit.agents - INFO - registered worker
2025-10-02 02:13:06,541 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:13:06,548 - livekit.agents - INFO - starting worker
2025-10-02 02:13:06,550 - livekit.agents - ERROR - Error in _read_ipc_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 35, in recv_bytes
    len_bytes = await self._reader.readexactly(4)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\streams.py", line 750, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\cli\watcher.py", line 120, in _read_ipc_task
    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\channel.py", line 47, in arecv_message
    return _read_message(await dplx.recv_bytes(), messages)
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 43, in recv_bytes
    raise DuplexClosed() from e
livekit.agents.utils.aio.duplex_unix.DuplexClosed
2025-10-02 02:13:07,546 - livekit.agents - INFO - registered worker
2025-10-02 02:15:26,746 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:15:26,759 - livekit.agents - INFO - starting worker
2025-10-02 02:15:27,724 - livekit.agents - INFO - registered worker
2025-10-02 02:17:02,629 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:02,636 - livekit.agents - INFO - starting worker
2025-10-02 02:17:03,650 - livekit.agents - INFO - registered worker
2025-10-02 02:17:12,682 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:12,692 - livekit.agents - INFO - starting worker
2025-10-02 02:17:13,534 - livekit.agents - INFO - registered worker
2025-10-02 02:17:18,109 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:18,120 - livekit.agents - INFO - starting worker
2025-10-02 02:17:19,814 - livekit.agents - INFO - registered worker
2025-10-02 02:17:25,958 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:25,967 - livekit.agents - INFO - starting worker
2025-10-02 02:17:26,854 - livekit.agents - INFO - registered worker
2025-10-02 02:17:32,946 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:32,956 - livekit.agents - INFO - starting worker
2025-10-02 02:17:33,961 - livekit.agents - INFO - registered worker
2025-10-02 02:17:40,118 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:40,129 - livekit.agents - INFO - starting worker
2025-10-02 02:17:41,066 - livekit.agents - INFO - registered worker
2025-10-02 02:17:49,378 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:17:49,392 - livekit.agents - INFO - starting worker
2025-10-02 02:17:50,488 - livekit.agents - INFO - registered worker
2025-10-02 02:22:12,300 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:22:12,306 - livekit.agents - INFO - starting worker
2025-10-02 02:22:13,219 - livekit.agents - INFO - registered worker
2025-10-02 02:22:26,327 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:22:26,343 - livekit.agents - INFO - starting worker
2025-10-02 02:22:27,303 - livekit.agents - INFO - registered worker
2025-10-02 02:25:26,637 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:25:26,646 - livekit.agents - INFO - starting worker
2025-10-02 02:25:27,558 - livekit.agents - INFO - registered worker
2025-10-02 02:26:50,851 - transcription-agent - INFO - Environment variables validated successfully
2025-10-02 02:26:50,861 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:26:50,865 - livekit.agents - DEV - Watching C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit
2025-10-02 02:26:52,561 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 02:26:52,567 - livekit.agents - INFO - starting worker
2025-10-02 02:26:53,528 - livekit.agents - INFO - registered worker
2025-10-02 02:27:37,826 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 742, in _recv_task
    raise Exception("worker connection closed unexpectedly")
Exception: worker connection closed unexpectedly
2025-10-02 02:27:41,927 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 02:27:53,002 - livekit.agents - WARNING - failed to connect to livekit, retrying in 4s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 02:27:57,812 - livekit.agents - INFO - registered worker
2025-10-02 03:08:37,261 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:08:37,323 - livekit.agents - INFO - starting worker
2025-10-02 03:08:37,327 - livekit.agents - ERROR - Error in _read_ipc_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 35, in recv_bytes
    len_bytes = await self._reader.readexactly(4)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\streams.py", line 750, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\cli\watcher.py", line 120, in _read_ipc_task
    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\channel.py", line 47, in arecv_message
    return _read_message(await dplx.recv_bytes(), messages)
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 43, in recv_bytes
    raise DuplexClosed() from e
livekit.agents.utils.aio.duplex_unix.DuplexClosed
2025-10-02 03:08:38,253 - livekit.agents - INFO - registered worker
2025-10-02 03:12:41,008 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:12:41,019 - livekit.agents - INFO - starting worker
2025-10-02 03:12:42,038 - livekit.agents - INFO - registered worker
2025-10-02 03:20:16,041 - livekit.agents - INFO - received job request
2025-10-02 03:20:16,249 - livekit.agents - INFO - initializing job runner
2025-10-02 03:20:16,257 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:20:16,259 - livekit.agents - INFO - job runner initialized
2025-10-02 03:20:16,277 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 03:20:16,281 - transcription-agent - INFO - Agent dispatched to room: meeting-1965b7e1-9667-42c5-9598-b4e757c8d2bf
2025-10-02 03:20:21,168 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-02 03:20:27,573 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-02 03:20:27,582 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-02 03:20:27,589 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-02 03:20:29,859 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: You
2025-10-02 03:20:29,862 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:31,457 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello? Hello.
2025-10-02 03:20:31,461 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:32,057 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello? Hello?
2025-10-02 03:20:32,060 - transcription-agent - ERROR - Failed to publish final transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:32,869 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello?
2025-10-02 03:20:32,880 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:33,706 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello. Hello. Hello.
2025-10-02 03:20:33,710 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:34,771 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello. Hello. Hello. Hello. Hello. Hello.
2025-10-02 03:20:34,774 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:35,649 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello. Hello. Hello. Hello. Hello. Hello.
2025-10-02 03:20:35,650 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:35,950 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello. Hello. Hello. Hello. Hello. Hello.
2025-10-02 03:20:35,953 - transcription-agent - ERROR - Failed to publish final transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:36,794 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello.
2025-10-02 03:20:36,797 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:37,591 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello.
2025-10-02 03:20:37,593 - transcription-agent - ERROR - Failed to publish final transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:38,568 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello.
2025-10-02 03:20:38,568 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:39,730 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello.
2025-10-02 03:20:39,733 - transcription-agent - ERROR - Failed to publish final transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:40,340 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello?
2025-10-02 03:20:40,342 - transcription-agent - ERROR - Failed to publish final transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:20:56,416 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: So
2025-10-02 03:20:56,417 - transcription-agent - ERROR - Failed to publish interim transcript: LocalParticipant.publish_data() got an unexpected keyword argument 'attributes'
2025-10-02 03:24:24,081 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:24:24,138 - livekit.agents - INFO - starting worker
2025-10-02 03:24:25,438 - livekit.agents - INFO - registered worker
2025-10-02 03:24:36,324 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:24:36,344 - livekit.agents - INFO - starting worker
2025-10-02 03:24:37,378 - livekit.agents - INFO - registered worker
2025-10-02 03:24:46,186 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:24:46,226 - livekit.agents - INFO - starting worker
2025-10-02 03:24:55,864 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:24:55,906 - livekit.agents - INFO - starting worker
2025-10-02 03:24:56,955 - livekit.agents - INFO - registered worker
2025-10-02 03:25:08,748 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:25:08,776 - livekit.agents - INFO - starting worker
2025-10-02 03:25:10,022 - livekit.agents - INFO - registered worker
2025-10-02 03:26:07,313 - livekit.agents - INFO - received job request
2025-10-02 03:26:07,527 - livekit.agents - INFO - initializing job runner
2025-10-02 03:26:07,531 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:26:07,533 - livekit.agents - INFO - job runner initialized
2025-10-02 03:26:07,543 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 03:26:07,547 - transcription-agent - INFO - Agent dispatched to room: meeting-4717b86b-170c-4f62-8cf3-f215e0f747ed
2025-10-02 03:26:10,471 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-02 03:26:14,720 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-02 03:26:14,723 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-02 03:26:14,725 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-02 03:26:20,032 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Like this
2025-10-02 03:26:26,003 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Actually, the thing is
2025-10-02 03:26:26,459 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Actually, the thing is
2025-10-02 03:26:31,783 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: the thing is the
2025-10-02 03:26:32,412 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: the thing is the things.
2025-10-02 03:26:33,351 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: So, yeah,
2025-10-02 03:26:34,384 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: So, yes, very good.
2025-10-02 03:26:35,270 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: So, yes, very good. Very good.
2025-10-02 03:28:31,435 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:28:31,454 - livekit.agents - INFO - starting worker
2025-10-02 03:28:51,842 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:28:51,860 - livekit.agents - INFO - starting worker
2025-10-02 03:29:00,700 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:29:10,033 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:29:10,054 - livekit.agents - INFO - starting worker
2025-10-02 03:29:11,098 - livekit.agents - INFO - registered worker
2025-10-02 03:29:21,093 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:29:21,153 - livekit.agents - INFO - starting worker
2025-10-02 03:29:22,122 - livekit.agents - INFO - registered worker
2025-10-02 03:29:46,072 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:29:46,086 - livekit.agents - INFO - starting worker
2025-10-02 03:29:47,159 - livekit.agents - INFO - registered worker
2025-10-02 03:38:23,321 - livekit.agents - INFO - received job request
2025-10-02 03:38:23,538 - livekit.agents - INFO - initializing job runner
2025-10-02 03:38:23,540 - livekit.agents - INFO - job runner initialized
2025-10-02 03:38:23,541 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:38:23,549 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 03:38:23,550 - transcription-agent - INFO - Agent dispatched to room: meeting-6e6f394c-33b8-4562-bf51-466ed6610e3b
2025-10-02 03:38:26,646 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-02 03:38:31,609 - livekit.agents - WARNING - Running <Task pending name='job_user_entrypoint' coro=<_JobProc._run_job_task.<locals>._traceable_entrypoint() running at C:\Python312\Lib\site-packages\opentelemetry\util\_decorator.py:71> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_JobProc._run_job_task.<locals>.<lambda>() at C:\Python312\Lib\site-packages\livekit\agents\ipc\job_proc_lazy_main.py:258, _JobProc._run_job_task.<locals>.log_exception() at C:\Python312\Lib\site-packages\livekit\agents\ipc\job_proc_lazy_main.py:260]> took too long: 4.97 seconds
2025-10-02 03:38:32,030 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-02 03:38:32,036 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-02 03:38:32,044 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-02 03:38:33,989 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Seven
2025-10-02 03:38:41,101 - livekit.agents - WARNING - Running <Task pending name='Task-33' coro=<transcribe_and_forward.<locals>.forward_transcriptions() running at C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit\main.py:117> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[set.discard()]> took too long: 4.14 seconds
2025-10-02 03:39:44,111 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:39:44,125 - livekit.agents - INFO - starting worker
2025-10-02 03:39:49,813 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:39:49,827 - livekit.agents - INFO - starting worker
2025-10-02 03:39:51,181 - livekit.agents - INFO - registered worker
2025-10-02 03:39:56,729 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:39:56,739 - livekit.agents - INFO - starting worker
2025-10-02 03:39:57,720 - livekit.agents - INFO - registered worker
2025-10-02 03:40:24,850 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:40:24,874 - livekit.agents - INFO - starting worker
2025-10-02 03:40:30,565 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:40:30,584 - livekit.agents - INFO - starting worker
2025-10-02 03:40:31,532 - livekit.agents - INFO - registered worker
2025-10-02 03:40:38,798 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:40:38,812 - livekit.agents - INFO - starting worker
2025-10-02 03:40:40,788 - livekit.agents - INFO - registered worker
2025-10-02 03:42:36,264 - livekit.agents - INFO - received job request
2025-10-02 03:42:36,479 - livekit.agents - INFO - initializing job runner
2025-10-02 03:42:36,481 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:42:36,481 - livekit.agents - INFO - job runner initialized
2025-10-02 03:42:36,488 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 03:42:36,491 - transcription-agent - INFO - Agent dispatched to room: meeting-0fc260ba-448b-46cb-becd-13215da4bb5f
2025-10-02 03:42:39,846 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-02 03:42:49,591 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-02 03:42:49,597 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-02 03:42:49,599 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-02 03:42:52,270 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Okay.
2025-10-02 03:43:21,085 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:43:21,104 - livekit.agents - INFO - starting worker
2025-10-02 03:43:22,215 - livekit.agents - INFO - registered worker
2025-10-02 03:44:23,166 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:44:23,179 - livekit.agents - INFO - starting worker
2025-10-02 03:44:25,503 - livekit.agents - INFO - registered worker
2025-10-02 03:44:57,503 - livekit.agents - INFO - received job request
2025-10-02 03:44:57,718 - livekit.agents - INFO - initializing job runner
2025-10-02 03:44:57,720 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:44:57,721 - livekit.agents - INFO - job runner initialized
2025-10-02 03:44:57,727 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-02 03:44:57,728 - transcription-agent - INFO - Agent dispatched to room: meeting-9aa4a6ee-2895-41c9-94e9-be9fd2865f4a
2025-10-02 03:45:03,314 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-02 03:45:04,632 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-02 03:45:04,636 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-02 03:45:04,643 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-02 03:45:18,928 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello.
2025-10-02 03:46:14,791 - transcription-agent - INFO - Audio track unsubscribed from percyjames9898@gmail.com
2025-10-02 03:46:14,793 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-02 03:49:33,237 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:49:33,254 - livekit.agents - INFO - starting worker
2025-10-02 03:49:34,554 - livekit.agents - INFO - registered worker
2025-10-02 03:49:38,324 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-02 03:49:38,335 - livekit.agents - INFO - starting worker
2025-10-02 03:49:40,651 - livekit.agents - INFO - registered worker
2025-10-02 04:55:21,417 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 725, in _send_task
    await ws.send_bytes(msg.SerializeToString())
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 252, in send_bytes
    await self._writer.send_frame(data, WSMsgType.BINARY, compress=compress)
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-02 04:55:22,428 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 04:55:24,778 - livekit.agents - WARNING - failed to connect to livekit, retrying in 4s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 09:32:11,090 - livekit.agents - WARNING - failed to connect to livekit, retrying in 6s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 09:32:18,673 - livekit.agents - INFO - registered worker
2025-10-02 18:57:13,503 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 725, in _send_task
    await ws.send_bytes(msg.SerializeToString())
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 252, in send_bytes
    await self._writer.send_frame(data, WSMsgType.BINARY, compress=compress)
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-02 18:57:13,535 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-02 18:57:16,800 - livekit.agents - INFO - registered worker
2025-10-02 20:52:42,466 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 742, in _recv_task
    raise Exception("worker connection closed unexpectedly")
Exception: worker connection closed unexpectedly
2025-10-02 20:52:54,332 - livekit.agents - INFO - registered worker
2025-10-03 16:22:29,130 - transcription-agent - INFO - Environment variables validated successfully
2025-10-03 16:22:29,219 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:22:29,223 - livekit.agents - DEV - Watching C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit
2025-10-03 16:22:31,202 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:22:31,209 - livekit.agents - INFO - starting worker
2025-10-03 16:22:32,244 - livekit.agents - INFO - registered worker
2025-10-03 16:22:32,461 - livekit.agents - INFO - received job request
2025-10-03 16:22:32,663 - livekit.agents - INFO - initializing job runner
2025-10-03 16:22:32,666 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:22:32,666 - livekit.agents - INFO - job runner initialized
2025-10-03 16:22:32,673 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 16:22:32,675 - transcription-agent - INFO - Agent dispatched to room: meeting-445cdb30-2f13-4b9b-aef1-d64f694df902
2025-10-03 16:22:37,301 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 16:22:56,544 - livekit.agents - DEBUG - shutting down job task
2025-10-03 16:22:56,545 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
2025-10-03 16:22:56,553 - livekit.agents - DEBUG - job exiting
2025-10-03 16:22:56,559 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 16:22:56,561 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 16:23:13,031 - livekit.agents - INFO - received job request
2025-10-03 16:23:13,233 - livekit.agents - INFO - initializing job runner
2025-10-03 16:23:13,234 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:23:13,235 - livekit.agents - INFO - job runner initialized
2025-10-03 16:23:13,238 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 16:23:13,239 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:23:16,090 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 16:23:16,537 - transcription-agent - ERROR - Critical error in main agent loop: <asyncio.locks.Event object at 0x000001E963CDFBF0 [unset, waiters:1]> is bound to a different event loop
Traceback (most recent call last):
  File "C:\Users\PMYLS\Desktop\FlexyWexy\project-plus\livekit\main.py", line 283, in main
    await shutdown_event.wait()
  File "C:\Python312\Lib\asyncio\locks.py", line 209, in wait
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Event object at 0x000001E963CDFBF0 [unset, waiters:1]> is bound to a different event loop
2025-10-03 16:23:16,577 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 16:23:16,578 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 16:23:28,110 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-03 16:23:28,112 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-03 16:23:28,112 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 16:23:30,921 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello. Hello.
2025-10-03 16:23:33,627 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello. Hello. My
2025-10-03 16:23:34,532 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: cat ten.
2025-10-03 16:23:35,417 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: One one
2025-10-03 16:23:36,399 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: One one two two three three
2025-10-03 16:23:37,268 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: One one two two three three four four.
2025-10-03 16:23:39,969 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello?
2025-10-03 16:23:40,481 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello?
2025-10-03 16:23:45,599 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Do you think
2025-10-03 16:23:46,613 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: This is our
2025-10-03 16:23:47,396 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: This is NSR. Logging in.
2025-10-03 16:24:00,674 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: What is
2025-10-03 16:24:01,656 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: What is happening
2025-10-03 16:24:19,872 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Made us
2025-10-03 16:24:33,712 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:24:33,723 - livekit.agents - INFO - starting worker
2025-10-03 16:24:33,725 - livekit.agents - ERROR - Error in _read_ipc_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 35, in recv_bytes
    len_bytes = await self._reader.readexactly(4)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\streams.py", line 750, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 4 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\cli\watcher.py", line 120, in _read_ipc_task
    msg = await channel.arecv_message(self._pch, proto.IPC_MESSAGES)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\ipc\channel.py", line 47, in arecv_message
    return _read_message(await dplx.recv_bytes(), messages)
                         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\aio\duplex_unix.py", line 43, in recv_bytes
    raise DuplexClosed() from e
livekit.agents.utils.aio.duplex_unix.DuplexClosed
2025-10-03 16:24:34,691 - livekit.agents - INFO - registered worker
2025-10-03 16:24:41,305 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:24:41,312 - livekit.agents - INFO - starting worker
2025-10-03 16:24:42,227 - livekit.agents - INFO - registered worker
2025-10-03 16:24:50,401 - livekit.agents - INFO - received job request
2025-10-03 16:24:50,607 - livekit.agents - INFO - initializing job runner
2025-10-03 16:24:50,607 - livekit.agents - INFO - job runner initialized
2025-10-03 16:24:50,609 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:24:50,612 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 16:24:50,613 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:24:55,311 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 16:24:55,806 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:24:55,810 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-03 16:24:55,812 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-03 16:24:55,812 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 16:25:08,105 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: Hello. Hello.
2025-10-03 16:25:11,935 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:11,935 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Hello. Hello.
2025-10-03 16:25:12,822 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:12,823 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: My
2025-10-03 16:25:12,831 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:13,059 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: My test is
2025-10-03 16:25:13,081 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:13,082 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Mic testing.
2025-10-03 16:25:13,534 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:15,653 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: One one two
2025-10-03 16:25:15,660 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:16,672 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: One one two two one
2025-10-03 16:25:16,677 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:17,653 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: One one two two.
2025-10-03 16:25:18,095 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:18,096 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: One one two two.
2025-10-03 16:25:18,102 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:18,102 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: One one two two
2025-10-03 16:25:18,549 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:19,822 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: This is an
2025-10-03 16:25:19,828 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:20,516 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: This is Zen Absa.
2025-10-03 16:25:21,181 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:21,533 - transcription-agent - INFO - Interim transcript from percyjames9898@gmail.com: That
2025-10-03 16:25:21,541 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:21,865 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: That's it.
2025-10-03 16:25:22,312 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:22,587 - transcription-agent - INFO - Final transcript from percyjames9898@gmail.com: Bye bye.
2025-10-03 16:25:23,027 - transcription-agent - INFO - [SUCCESS] Transcription sent to backend for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:25:30,292 - transcription-agent - INFO - Audio track unsubscribed from percyjames9898@gmail.com
2025-10-03 16:25:30,297 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:25:48,119 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:25:54,118 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:26:17,390 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
2025-10-03 16:26:17,394 - transcription-agent - INFO - Room disconnected, initiating cleanup...
2025-10-03 16:26:17,396 - livekit.agents - DEBUG - shutting down job task
2025-10-03 16:26:17,397 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 16:26:17,398 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 16:26:17,399 - transcription-agent - INFO - Cancelling 1 active transcription tasks
2025-10-03 16:26:17,399 - livekit.agents - DEBUG - job exiting
2025-10-03 16:26:17,400 - livekit.plugins.deepgram - ERROR - Error in send_task
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\utils\log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\livekit\plugins\deepgram\stt.py", line 476, in send_task
    await ws.send_str(SpeechStream._CLOSE_MSG)
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 245, in send_str
    await self._writer.send_frame(
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 72, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-03 16:26:17,473 - transcription-agent - INFO - Transcription cleanup completed for percyjames9898@gmail.com
2025-10-03 16:26:17,473 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 16:27:11,099 - livekit.agents - INFO - received job request
2025-10-03 16:27:11,314 - livekit.agents - INFO - initializing job runner
2025-10-03 16:27:11,315 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 16:27:11,315 - livekit.agents - INFO - job runner initialized
2025-10-03 16:27:11,319 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 16:27:11,320 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:27:15,841 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 16:27:16,278 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 16:27:16,280 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 16:27:16,283 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 16:27:18,634 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-03 16:27:18,636 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-03 16:27:18,638 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 16:27:18,647 - transcription-agent - INFO - Shutdown signal received, stopping audio processing
2025-10-03 16:27:23,640 - transcription-agent - WARNING - Transcription forwarding task timed out
2025-10-03 16:27:23,643 - transcription-agent - INFO - Transcription cleanup completed for percyjames9898@gmail.com
2025-10-03 16:27:37,240 - transcription-agent - INFO - Audio track unsubscribed from percyjames9898@gmail.com
2025-10-03 16:27:37,243 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:32:37,860 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:41:45,982 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:41:58,568 - transcription-agent - INFO - Audio track subscribed from percyjames9898@gmail.com
2025-10-03 16:41:58,570 - transcription-agent - INFO - Starting transcription for participant: percyjames9898@gmail.com
2025-10-03 16:41:58,572 - transcription-agent - INFO - Shutdown signal received, stopping audio processing
2025-10-03 16:42:03,562 - transcription-agent - WARNING - Transcription forwarding task timed out
2025-10-03 16:42:03,567 - transcription-agent - INFO - Transcription cleanup completed for percyjames9898@gmail.com
2025-10-03 16:59:03,447 - transcription-agent - INFO - Audio track unsubscribed from percyjames9898@gmail.com
2025-10-03 16:59:03,450 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:59:18,985 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 16:59:37,390 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
2025-10-03 16:59:37,393 - transcription-agent - INFO - Room disconnected, initiating cleanup...
2025-10-03 16:59:37,394 - livekit.agents - DEBUG - shutting down job task
2025-10-03 16:59:37,395 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 16:59:37,396 - livekit.agents - DEBUG - job exiting
2025-10-03 17:20:50,627 - livekit.agents - INFO - received job request
2025-10-03 17:20:50,848 - livekit.agents - INFO - initializing job runner
2025-10-03 17:20:50,850 - livekit.agents - INFO - job runner initialized
2025-10-03 17:20:50,851 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 17:20:50,860 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 17:20:50,861 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 17:20:54,009 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 17:20:54,463 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 17:20:54,464 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 17:20:54,465 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 17:21:10,602 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 18:12:17,724 - livekit - ERROR - livekit_api::signal_client::signal_stream:413:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 10054, kind: ConnectionReset, message: "An existing connection was forcibly closed by the remote host." }))
2025-10-03 18:12:17,756 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 733, in _recv_task
    msg = await ws.receive()
          ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 378, in receive
    await self.pong(msg.data)
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 234, in pong
    await self._writer.send_frame(message, WSMsgType.PONG)
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-03 18:12:17,763 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"ping timeout\"" UnknownReason Resume
2025-10-03 18:12:18,094 - transcription-agent - INFO - Room disconnected, initiating cleanup...
2025-10-03 18:12:18,138 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-03 18:12:18,142 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 0
2025-10-03 18:12:18,151 - livekit.agents - DEBUG - shutting down job task
2025-10-03 18:12:19,417 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,419 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 18:12:19,419 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 1
2025-10-03 18:12:19,425 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 18:12:19,430 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,436 - livekit.agents - DEBUG - job exiting
2025-10-03 18:12:19,442 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 2
2025-10-03 18:12:19,457 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,464 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 3
2025-10-03 18:12:19,467 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,469 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 4
2025-10-03 18:12:19,470 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,471 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 5
2025-10-03 18:12:19,471 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,472 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 6
2025-10-03 18:12:19,473 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,474 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 7
2025-10-03 18:12:19,475 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,477 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 8
2025-10-03 18:12:19,479 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,480 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 9
2025-10-03 18:12:19,481 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: IO error: No such host is known. (os error 11001)
2025-10-03 18:12:19,483 - livekit - ERROR - livekit::rtc_engine:663:livekit::rtc_engine - failed to reconnect to the livekit room
2025-10-03 18:12:21,411 - livekit.agents - WARNING - failed to connect to livekit, retrying in 4s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-03 19:10:05,520 - livekit.agents - WARNING - failed to connect to livekit, retrying in 6s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\asyncio\base_events.py", line 899, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 649, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host voiceagents-jze0j7gx.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-10-03 19:10:12,479 - livekit.agents - INFO - registered worker
2025-10-03 19:10:17,659 - livekit.agents - INFO - received job request
2025-10-03 19:10:17,862 - livekit.agents - INFO - initializing job runner
2025-10-03 19:10:17,865 - livekit.agents - INFO - job runner initialized
2025-10-03 19:10:17,866 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 19:10:17,871 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 19:10:17,872 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 19:10:22,459 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 19:10:22,933 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 19:10:22,935 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 19:10:22,936 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 20:01:43,303 - livekit - ERROR - livekit_api::signal_client:369:livekit_api::signal_client - failed to send queued signal: failed to send message to the server
2025-10-03 20:01:43,715 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"ping timeout\"" UnknownReason Resume
2025-10-03 20:01:43,726 - livekit - ERROR - livekit_api::signal_client::signal_stream:413:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 10054, kind: ConnectionReset, message: "An existing connection was forcibly closed by the remote host." }))
2025-10-03 20:01:43,731 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 0
2025-10-03 20:01:43,734 - livekit - ERROR - livekit::rtc_engine::rtc_session:787:livekit::rtc_engine::rtc_session - Subscriber pc state failed
2025-10-03 20:01:43,736 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 689, in _connection_task
    await self._run_ws(ws)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 770, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Python312\Lib\site-packages\livekit\agents\worker.py", line 733, in _recv_task
    msg = await ws.receive()
          ^^^^^^^^^^^^^^^^^^
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 378, in receive
    await self.pong(msg.data)
  File "C:\Python312\Lib\site-packages\aiohttp\client_ws.py", line 234, in pong
    await self._writer.send_frame(message, WSMsgType.PONG)
  File "C:\Python312\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-10-03 20:01:43,743 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "pc_state failed" UnknownReason Resume
2025-10-03 20:01:44,847 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:44,847 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 1
2025-10-03 20:01:45,156 - livekit.agents - INFO - registered worker
2025-10-03 20:01:46,074 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:46,075 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 2
2025-10-03 20:01:47,084 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:47,086 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 3
2025-10-03 20:01:48,258 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:48,259 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 4
2025-10-03 20:01:49,166 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:49,169 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 5
2025-10-03 20:01:50,091 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:50,092 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 6
2025-10-03 20:01:51,031 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:51,032 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 7
2025-10-03 20:01:51,948 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:51,949 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 8
2025-10-03 20:01:52,613 - livekit.agents - INFO - received job request
2025-10-03 20:01:52,825 - livekit.agents - INFO - initializing job runner
2025-10-03 20:01:52,828 - livekit.agents - INFO - job runner initialized
2025-10-03 20:01:52,829 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 20:01:52,837 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 20:01:52,838 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:01:52,894 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:52,895 - livekit - ERROR - livekit::rtc_engine:729:livekit::rtc_engine - resuming connection... attempt: 9
2025-10-03 20:01:53,776 - livekit - ERROR - livekit::rtc_engine:731:livekit::rtc_engine - resuming connection failed: signal failure: ws failure: HTTP error: 401 Unauthorized
2025-10-03 20:01:53,777 - livekit - ERROR - livekit::rtc_engine:663:livekit::rtc_engine - failed to reconnect to the livekit room
2025-10-03 20:01:53,784 - transcription-agent - INFO - Room disconnected, initiating cleanup...
2025-10-03 20:01:53,787 - livekit.agents - DEBUG - shutting down job task
2025-10-03 20:01:53,789 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 20:01:53,790 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 20:01:53,791 - livekit.agents - DEBUG - job exiting
2025-10-03 20:01:57,414 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 20:01:57,876 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:01:57,877 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 20:01:57,878 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 20:05:51,505 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:06:00,550 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:25:40,077 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:25:48,685 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:26:06,508 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:26:15,513 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:29:51,508 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:30:18,511 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:30:30,506 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:36:18,507 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:36:27,512 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:43:33,513 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:43:42,508 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:44:03,509 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:44:22,459 - livekit.agents - DEBUG - shutting down job task
2025-10-03 20:44:22,471 - livekit.agents - DEBUG - job exiting
2025-10-03 20:44:22,478 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
2025-10-03 20:44:22,480 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 20:44:22,481 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 20:48:19,681 - livekit.agents - INFO - received job request
2025-10-03 20:48:19,899 - livekit.agents - INFO - initializing job runner
2025-10-03 20:48:19,901 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 20:48:19,902 - livekit.agents - INFO - job runner initialized
2025-10-03 20:48:19,911 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 20:48:19,914 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:48:23,322 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 20:48:23,925 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:48:23,928 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 20:48:23,931 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 20:48:42,464 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:48:54,346 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:49:03,350 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 20:49:22,458 - livekit.agents - DEBUG - shutting down job task
2025-10-03 20:49:22,461 - livekit.agents - DEBUG - job exiting
2025-10-03 20:49:22,479 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 20:49:22,481 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-10-03 20:59:16,121 - livekit.agents - INFO - received job request
2025-10-03 20:59:16,333 - livekit.agents - INFO - initializing job runner
2025-10-03 20:59:16,337 - asyncio - DEBUG - Using proactor: IocpProactor
2025-10-03 20:59:16,337 - livekit.agents - INFO - job runner initialized
2025-10-03 20:59:16,347 - transcription-agent - INFO - Starting transcription agent with enhanced error handling...
2025-10-03 20:59:16,370 - transcription-agent - INFO - Agent dispatched to room: meeting-3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:59:21,068 - transcription-agent - INFO - Transcription agent connected and listening for audio tracks
2025-10-03 20:59:21,566 - transcription-agent - INFO - [SUCCESS] Meeting start notification sent for meeting 3bc3b7bf-772f-46ef-99d6-29d622288b6e
2025-10-03 20:59:21,568 - transcription-agent - INFO - Starting graceful shutdown...
2025-10-03 20:59:21,570 - transcription-agent - INFO - Transcription agent shutdown completed
2025-10-03 20:59:30,185 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 21:24:10,733 - transcription-agent - INFO - Participant andriajulie746@gmail.com disconnected
2025-10-03 21:25:03,192 - transcription-agent - INFO - Participant percyjames9898@gmail.com disconnected
2025-10-03 21:25:22,443 - livekit.agents - DEBUG - shutting down job task
2025-10-03 21:25:22,453 - livekit.agents - DEBUG - job exiting
2025-10-03 21:25:22,456 - livekit - WARNING - livekit::rtc_engine:453:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
2025-10-03 21:25:22,459 - transcription-agent - INFO - Room disconnected, initiating cleanup...
2025-10-03 21:25:22,489 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-10-03 21:25:22,507 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
